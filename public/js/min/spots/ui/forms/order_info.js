// Compiled by ClojureScript 1.9.946 {:elide-asserts true}
goog.provide('spots.ui.forms.order_info');
goog.require('cljs.core');
goog.require('keechma.ui_component');
goog.require('keechma.toolbox.ui');
goog.require('keechma.toolbox.forms.core');
goog.require('reagent.core');
goog.require('clojure.string');
goog.require('keechma.toolbox.forms.helpers');
goog.require('spots.ui.components.inputs');
goog.require('keechma.toolbox.util');
goog.require('spots.ui.components.decorators');
goog.require('spots.ui.components.modals');
goog.require('spots.ui.components.address_autocomplete');
goog.require('spots.domain.form_helpers');
goog.require('spots.domain.modal_content');
goog.require('oops.core');
spots.ui.forms.order_info.render_aa = (function spots$ui$forms$order_info$render_aa(ctx,form_props,form_state,helpers){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearfix","div.clearfix",1775605822),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.sm-col.sm-col-8.pr1","div.sm-col.sm-col-8.pr1",-111896488),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [spots.ui.components.address_autocomplete.render,ctx,form_props,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"form-state","form-state",-1897375037),form_state,new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"Street Address",new cljs.core.Keyword(null,"helpers","helpers",385052827),helpers,new cljs.core.Keyword(null,"attr","attr",-604132353),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"address","address",559499426),new cljs.core.Keyword(null,"street","street",1870012303)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.sm-col.sm-col-4","div.sm-col.sm-col-4",-188876133),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [spots.ui.components.inputs.controlled_input,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"form-state","form-state",-1897375037),form_state,new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"Apartment / Suite",new cljs.core.Keyword(null,"helpers","helpers",385052827),helpers,new cljs.core.Keyword(null,"attr","attr",-604132353),new cljs.core.Keyword(null,"apartmentNumber","apartmentNumber",969536382)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.clearfix","div.clearfix",1775605822),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.sm-col.sm-col-8.pr1","div.sm-col.sm-col-8.pr1",-111896488),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [spots.ui.components.inputs.controlled_input,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"form-state","form-state",-1897375037),form_state,new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"City",new cljs.core.Keyword(null,"helpers","helpers",385052827),helpers,new cljs.core.Keyword(null,"attr","attr",-604132353),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"address","address",559499426),new cljs.core.Keyword(null,"city","city",-393302614)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.sm-col.sm-col-1","div.sm-col.sm-col-1",441518795),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [spots.ui.components.inputs.controlled_input,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"form-state","form-state",-1897375037),form_state,new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"State",new cljs.core.Keyword(null,"helpers","helpers",385052827),helpers,new cljs.core.Keyword(null,"attr","attr",-604132353),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"address","address",559499426),new cljs.core.Keyword(null,"state","state",-1988618099)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.sm-col.sm-col-3.pl1","div.sm-col.sm-col-3.pl1",1989146490),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [spots.ui.components.inputs.controlled_input,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"form-state","form-state",-1897375037),form_state,new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"Zip Code",new cljs.core.Keyword(null,"helpers","helpers",385052827),helpers,new cljs.core.Keyword(null,"attr","attr",-604132353),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"address","address",559499426),new cljs.core.Keyword(null,"zipcode","zipcode",628451885)], null)], null)], null)], null)], null)], null);
});
spots.ui.forms.order_info.render = (function spots$ui$forms$order_info$render(ctx){
var form_props = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"order-info","order-info",1576812499),new cljs.core.Keyword(null,"form","form",-1624062471)], null);
var form_state = cljs.core.deref.call(null,keechma.toolbox.forms.helpers.form_state.call(null,ctx,form_props));
var helpers = keechma.toolbox.forms.helpers.make_component_helpers.call(null,ctx,form_props);
var address = keechma.toolbox.forms.helpers.attr_get_in.call(null,form_state,new cljs.core.Keyword(null,"address","address",559499426));
var address_done_QMARK_ = cljs.core.get_in.call(null,form_state,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"data","data",-232669377),new cljs.core.Keyword(null,"internal","internal",-854870097),new cljs.core.Keyword(null,"address-done?","address-done?",-1397675944)], null));
var address_valid_QMARK_ = cljs.core.every_QMARK_.call(null,cljs.core.nil_QMARK_,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [keechma.toolbox.forms.helpers.attr_errors.call(null,form_state,new cljs.core.Keyword(null,"address.city","address.city",-341021513)),keechma.toolbox.forms.helpers.attr_errors.call(null,form_state,new cljs.core.Keyword(null,"address.street","address.street",2013477424)),keechma.toolbox.forms.helpers.attr_errors.call(null,form_state,new cljs.core.Keyword(null,"address.state","address.state",1587282334)),keechma.toolbox.forms.helpers.attr_errors.call(null,form_state,new cljs.core.Keyword(null,"address.zipcode","address.zipcode",-1676444471))], null));
var map__28919 = helpers;
var map__28919__$1 = ((((!((map__28919 == null)))?((((map__28919.cljs$lang$protocol_mask$partition0$ & (64))) || ((cljs.core.PROTOCOL_SENTINEL === map__28919.cljs$core$ISeq$)))?true:false):false))?cljs.core.apply.call(null,cljs.core.hash_map,map__28919):map__28919);
var submit = cljs.core.get.call(null,map__28919__$1,new cljs.core.Keyword(null,"submit","submit",-49315317));
var set_value = cljs.core.get.call(null,map__28919__$1,new cljs.core.Keyword(null,"set-value","set-value",445227352));
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 10, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"form","form",-1624062471),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"on-submit","on-submit",1227871159),submit], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.inline-block","div.inline-block",-502349916),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [spots.ui.components.inputs.radiobtn,new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"label","label",1718410804),"Manhattan Delivery",new cljs.core.Keyword(null,"attr","attr",-604132353),new cljs.core.Keyword(null,"shippingMethod","shippingMethod",-206764952),new cljs.core.Keyword(null,"helpers","helpers",385052827),helpers,new cljs.core.Keyword(null,"form-state","form-state",-1897375037),form_state,new cljs.core.Keyword(null,"name","name",1843675177),"shippingMethod",new cljs.core.Keyword(null,"value","value",305978217),"manhattan_delivery"], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [spots.ui.components.modals.caption_info,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"label","label",1718410804),"Delivery Policy + Rates",new cljs.core.Keyword(null,"modal-title","modal-title",-709050582),"Delivery Policy + Rates",new cljs.core.Keyword(null,"modal-content","modal-content",-6375807),spots.domain.modal_content.delivery_content,new cljs.core.Keyword(null,"modal-footer","modal-footer",1462046278),"Close"], null)], null)], null),((cljs.core._EQ_.call(null,keechma.toolbox.forms.helpers.attr_get_in.call(null,form_state,new cljs.core.Keyword(null,"shippingMethod","shippingMethod",-206764952)),"manhattan_delivery"))?spots.ui.forms.order_info.render_aa.call(null,ctx,form_props,form_state,helpers):null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.inline-block","div.inline-block",-502349916),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [spots.ui.components.inputs.radiobtn,new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"label","label",1718410804),"Shipping (Outside of Manhattan)",new cljs.core.Keyword(null,"attr","attr",-604132353),new cljs.core.Keyword(null,"shippingMethod","shippingMethod",-206764952),new cljs.core.Keyword(null,"helpers","helpers",385052827),helpers,new cljs.core.Keyword(null,"form-state","form-state",-1897375037),form_state,new cljs.core.Keyword(null,"name","name",1843675177),"shippingMethod",new cljs.core.Keyword(null,"value","value",305978217),"shipping"], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [spots.ui.components.modals.caption_info,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"label","label",1718410804),"Shipping Rates",new cljs.core.Keyword(null,"modal-title","modal-title",-709050582),"Shipping Rates",new cljs.core.Keyword(null,"modal-content","modal-content",-6375807),spots.domain.modal_content.shipping_content,new cljs.core.Keyword(null,"modal-footer","modal-footer",1462046278),"Close"], null)], null)], null),((cljs.core._EQ_.call(null,keechma.toolbox.forms.helpers.attr_get_in.call(null,form_state,new cljs.core.Keyword(null,"shippingMethod","shippingMethod",-206764952)),"shipping"))?spots.ui.forms.order_info.render_aa.call(null,ctx,form_props,form_state,helpers):null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.inline-block","div.inline-block",-502349916),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [spots.ui.components.inputs.radiobtn,new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"label","label",1718410804),spots.domain.modal_content.pickup,new cljs.core.Keyword(null,"attr","attr",-604132353),new cljs.core.Keyword(null,"shippingMethod","shippingMethod",-206764952),new cljs.core.Keyword(null,"helpers","helpers",385052827),helpers,new cljs.core.Keyword(null,"form-state","form-state",-1897375037),form_state,new cljs.core.Keyword(null,"name","name",1843675177),"shippingMethod",new cljs.core.Keyword(null,"value","value",305978217),"pickup"], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [spots.ui.components.modals.caption_info,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"label","label",1718410804),"Pickup Policy",new cljs.core.Keyword(null,"modal-title","modal-title",-709050582),"Pickup Policy",new cljs.core.Keyword(null,"modal-content","modal-content",-6375807),spots.domain.modal_content.pickup_content,new cljs.core.Keyword(null,"modal-footer","modal-footer",1462046278),"Close"], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.inline-block","div.inline-block",-502349916),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [spots.ui.components.inputs.radiobtn,new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"label","label",1718410804),spots.domain.modal_content.multiple_recipients,new cljs.core.Keyword(null,"attr","attr",-604132353),new cljs.core.Keyword(null,"shippingMethod","shippingMethod",-206764952),new cljs.core.Keyword(null,"helpers","helpers",385052827),helpers,new cljs.core.Keyword(null,"form-state","form-state",-1897375037),form_state,new cljs.core.Keyword(null,"name","name",1843675177),"shippingMethod",new cljs.core.Keyword(null,"value","value",305978217),"modalTrigger"], null)], null)], null),((cljs.core._EQ_.call(null,keechma.toolbox.forms.helpers.attr_get_in.call(null,form_state,new cljs.core.Keyword(null,"shippingMethod","shippingMethod",-206764952)),"modalTrigger"))?new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [spots.ui.components.modals.caption_info,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"label","label",1718410804),"Multiple recipients policy",new cljs.core.Keyword(null,"modal-title","modal-title",-709050582),"Multiple recipients",new cljs.core.Keyword(null,"modal-content","modal-content",-6375807),spots.domain.modal_content.multiple_content,new cljs.core.Keyword(null,"modal-footer","modal-footer",1462046278),"Close"], null)], null):null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.flex.justify-center","div.flex.justify-center",-491420122),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [spots.domain.form_helpers.submit_button,form_state,"Next Step"], null)], null)], null)], null);
});
spots.ui.forms.order_info.component = keechma.ui_component.constructor$.call(null,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"renderer","renderer",336841071),spots.ui.forms.order_info.render,new cljs.core.Keyword(null,"subscription-deps","subscription-deps",1798032321),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"form-state","form-state",-1897375037)], null),new cljs.core.Keyword(null,"topic","topic",-1960480691),keechma.toolbox.forms.core.id_key], null));
